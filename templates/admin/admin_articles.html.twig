{% extends "base.html.twig" %}
{% block body %}

	{% for message in app.flashes('success') %}
		<div class="alert alert-success text-center">{{ message }}</div>
	{% endfor %}

	<div class="text-center">
		<a href="{{ path('admin_new_article') }}" class="btn btn-success my-2">Ajouter un article  <i class="fa-solid fa-square-plus"></i></a>
	</div>
	<table class="table">
		<thead>
			<tr>
				{% for data in champs %}
					<th>{{ data }}</th>
				{% endfor %}
				<th>Catégorie</th>
				<th>Editer</th>
				<th>Supprimer</th>
			</tr>
		</thead>
		<tbody>
			{% for article in articles %}
				<tr>
					<td>{{ article.id }}</td>
					<td>{{ article.title }}</td>
					<td>{{ article.content|slice(0, 30)|raw }}</td>
					<td><img src="{{ article.image }}" class="img-fluid" width="250" height="200"></td>
					<td>{{ article.createAt|date("d/m/Y à H:m:s") }}</td>
					<td>{{ article.category.title }}</td>
					<td>
						<a href="{{ path('admin_edit_article', {id: article.id}) }}" class="text-warning">
							<i class="fa-solid fa-pen"></i>
						</a>
					</td>
					<td>
						<a href="{{ path('admin_delete_article', {id: article.id}) }}" class="text-danger">
							<i class="fa-solid fa-trash-can"></i>
						</a>
					</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>

{% endblock %}
